   1               		.file	"atmega_slave.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__ = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
  15               	.Ltext0:
  16               	.global	motor_ports_init
  18               	motor_ports_init:
  19               	.LFB0:
  20               	.LM1:
  21               	/* prologue: function */
  22               	/* frame size = 0 */
  23               	/* stack size = 0 */
  24               	.L__stack_usage = 0
  25               	.LM2:
  26 0000 81B3      		in r24,49-32
  27 0002 806F      		ori r24,lo8(-16)
  28 0004 81BB      		out 49-32,r24
  29               	.LM3:
  30 0006 84B3      		in r24,52-32
  31 0008 8C63      		ori r24,lo8(60)
  32 000a 84BB      		out 52-32,r24
  33               	.LM4:
  34 000c 82B3      		in r24,50-32
  35 000e 8066      		ori r24,lo8(96)
  36 0010 82BB      		out 50-32,r24
  37 0012 82B3      		in r24,50-32
  38 0014 8F76      		andi r24,lo8(111)
  39 0016 82BB      		out 50-32,r24
  40               	.LM5:
  41 0018 85B3      		in r24,53-32
  42 001a 8861      		ori r24,lo8(24)
  43 001c 85BB      		out 53-32,r24
  44 001e 85B3      		in r24,53-32
  45 0020 8B7D      		andi r24,lo8(-37)
  46 0022 85BB      		out 53-32,r24
  47               	/* epilogue start */
  48               	.LM6:
  49 0024 0895      		ret
  50               	.LFE0:
  52               	.global	ADC_init
  54               	ADC_init:
  55               	.LFB1:
  56               	.LM7:
  57               	/* prologue: function */
  58               	/* frame size = 0 */
  59               	/* stack size = 0 */
  60               	.L__stack_usage = 0
  61               	.LM8:
  62 0026 87B1      		in r24,39-32
  63 0028 806C      		ori r24,lo8(-64)
  64 002a 87B9      		out 39-32,r24
  65               	.LM9:
  66 002c 3D9A      		sbi 39-32,5
  67               	.LM10:
  68 002e 339A      		sbi 38-32,3
  69               	.LM11:
  70 0030 86B1      		in r24,38-32
  71 0032 8768      		ori r24,lo8(-121)
  72 0034 86B9      		out 38-32,r24
  73               	.LM12:
  74 0036 369A      		sbi 38-32,6
  75               	/* epilogue start */
  76               	.LM13:
  77 0038 0895      		ret
  78               	.LFE1:
  80               	.global	SPI_init
  82               	SPI_init:
  83               	.LFB2:
  84               	.LM14:
  85               	/* prologue: function */
  86               	/* frame size = 0 */
  87               	/* stack size = 0 */
  88               	.L__stack_usage = 0
  89               	.LM15:
  90 003a BC9A      		sbi 55-32,4
  91               	.LM16:
  92 003c 8DB1      		in r24,45-32
  93 003e 806C      		ori r24,lo8(-64)
  94 0040 8DB9      		out 45-32,r24
  95               	/* epilogue start */
  96               	.LM17:
  97 0042 0895      		ret
  98               	.LFE2:
 100               	.global	Timer0_init
 102               	Timer0_init:
 103               	.LFB3:
 104               	.LM18:
 105               	/* prologue: function */
 106               	/* frame size = 0 */
 107               	/* stack size = 0 */
 108               	.L__stack_usage = 0
 109               	.LM19:
 110 0044 83B7      		in r24,83-32
 111 0046 8260      		ori r24,lo8(2)
 112 0048 83BF      		out 83-32,r24
 113               	.LM20:
 114 004a 89B7      		in r24,89-32
 115 004c 8160      		ori r24,lo8(1)
 116 004e 89BF      		out 89-32,r24
 117               	/* epilogue start */
 118               	.LM21:
 119 0050 0895      		ret
 120               	.LFE3:
 122               	.global	__vector_10
 124               	__vector_10:
 125               	.LFB4:
 126               	.LM22:
 127 0052 1F92      		push __zero_reg__
 128 0054 0F92      		push r0
 129 0056 0FB6      		in r0,__SREG__
 130 0058 0F92      		push r0
 131 005a 1124      		clr __zero_reg__
 132 005c 8F93      		push r24
 133 005e EF93      		push r30
 134 0060 FF93      		push r31
 135               	/* prologue: Signal */
 136               	/* frame size = 0 */
 137               	/* stack size = 6 */
 138               	.L__stack_usage = 6
 139               	.LM23:
 140 0062 E091 0000 		lds r30,j
 141 0066 F0E0      		ldi r31,lo8(0)
 142 0068 8FB1      		in r24,47-32
 143 006a E050      		subi r30,lo8(-(btn_state))
 144 006c F040      		sbci r31,hi8(-(btn_state))
 145 006e 8083      		st Z,r24
 146               	.LM24:
 147 0070 8091 0000 		lds r24,j
 148 0074 8530      		cpi r24,lo8(5)
 149 0076 00F4      		brsh .L6
 150               	.LM25:
 151 0078 8091 0000 		lds r24,j
 152 007c 8F5F      		subi r24,lo8(-(1))
 153 007e 8093 0000 		sts j,r24
 154 0082 00C0      		rjmp .L7
 155               	.L6:
 156               	.LM26:
 157 0084 1092 0000 		sts j,__zero_reg__
 158               	.L7:
 159               	.LM27:
 160 0088 E091 0000 		lds r30,j
 161 008c F0E0      		ldi r31,lo8(0)
 162 008e E050      		subi r30,lo8(-(memory_state))
 163 0090 F040      		sbci r31,hi8(-(memory_state))
 164 0092 8081      		ld r24,Z
 165 0094 8FB9      		out 47-32,r24
 166               	/* epilogue start */
 167               	.LM28:
 168 0096 FF91      		pop r31
 169 0098 EF91      		pop r30
 170 009a 8F91      		pop r24
 171 009c 0F90      		pop r0
 172 009e 0FBE      		out __SREG__,r0
 173 00a0 0F90      		pop r0
 174 00a2 1F90      		pop __zero_reg__
 175 00a4 1895      		reti
 176               	.LFE4:
 178               	.global	__vector_14
 180               	__vector_14:
 181               	.LFB6:
 182               	.LM29:
 183 00a6 1F92      		push __zero_reg__
 184 00a8 0F92      		push r0
 185 00aa 0FB6      		in r0,__SREG__
 186 00ac 0F92      		push r0
 187 00ae 1124      		clr __zero_reg__
 188 00b0 8F93      		push r24
 189               	/* prologue: Signal */
 190               	/* frame size = 0 */
 191               	/* stack size = 4 */
 192               	.L__stack_usage = 4
 193               	.LM30:
 194 00b2 85B1      		in r24,37-32
 195 00b4 8093 0000 		sts memory_state+5,r24
 196 00b8 8091 0000 		lds r24,memory_state+5
 197 00bc 8093 0000 		sts set_speed,r24
 198               	/* epilogue start */
 199               	.LM31:
 200 00c0 8F91      		pop r24
 201 00c2 0F90      		pop r0
 202 00c4 0FBE      		out __SREG__,r0
 203 00c6 0F90      		pop r0
 204 00c8 1F90      		pop __zero_reg__
 205 00ca 1895      		reti
 206               	.LFE6:
 208               	.global	reset
 210               	reset:
 211               	.LFB8:
 212               	.LM32:
 213               	/* prologue: function */
 214               	/* frame size = 0 */
 215               	/* stack size = 0 */
 216               	.L__stack_usage = 0
 217               	.LM33:
 218 00cc 1092 0000 		sts motor_pos+1,__zero_reg__
 219 00d0 1092 0000 		sts motor_pos,__zero_reg__
 220               	.LM34:
 221 00d4 1092 0000 		sts motor_pos+2+1,__zero_reg__
 222 00d8 1092 0000 		sts motor_pos+2,__zero_reg__
 223               	.LM35:
 224 00dc 1092 0000 		sts iteration,__zero_reg__
 225               	.LM36:
 226 00e0 81E0      		ldi r24,lo8(1)
 227 00e2 8093 0000 		sts course,r24
 228               	.LM37:
 229 00e6 1092 0000 		sts max_dimension,__zero_reg__
 230               	.LM38:
 231 00ea 1092 0000 		sts total_dist,__zero_reg__
 232               	.LM39:
 233 00ee 1092 0000 		sts current_state,__zero_reg__
 234               	.LM40:
 235 00f2 1092 0000 		sts current_mode,__zero_reg__
 236               	/* epilogue start */
 237               	.LM41:
 238 00f6 0895      		ret
 239               	.LFE8:
 241               	.global	run
 243               	run:
 244               	.LFB9:
 245               	.LM42:
 246               	/* prologue: function */
 247               	/* frame size = 0 */
 248               	/* stack size = 0 */
 249               	.L__stack_usage = 0
 250               	.LM43:
 251 00f8 81E0      		ldi r24,lo8(1)
 252 00fa 8093 0000 		sts current_state,r24
 253               	.LM44:
 254 00fe 8093 0000 		sts current_mode,r24
 255               	/* epilogue start */
 256               	.LM45:
 257 0102 0895      		ret
 258               	.LFE9:
 260               	.global	reverse
 262               	reverse:
 263               	.LFB10:
 264               	.LM46:
 265               	/* prologue: function */
 266               	/* frame size = 0 */
 267               	/* stack size = 0 */
 268               	.L__stack_usage = 0
 269               	.LM47:
 270 0104 8091 0000 		lds r24,iteration
 271 0108 8695      		lsr r24
 272 010a 8695      		lsr r24
 273 010c 8695      		lsr r24
 274 010e 8F5F      		subi r24,lo8(-(1))
 275 0110 8093 0000 		sts course,r24
 276               	.LM48:
 277 0114 8EE1      		ldi r24,lo8(30)
 278 0116 90E0      		ldi r25,hi8(30)
 279 0118 9093 0000 		sts motor_pos+1,r25
 280 011c 8093 0000 		sts motor_pos,r24
 281               	.LM49:
 282 0120 82E0      		ldi r24,lo8(2)
 283 0122 8093 0000 		sts current_mode,r24
 284               	/* epilogue start */
 285               	.LM50:
 286 0126 0895      		ret
 287               	.LFE10:
 289               	.global	turn90
 291               	turn90:
 292               	.LFB11:
 293               	.LM51:
 294               	/* prologue: function */
 295               	/* frame size = 0 */
 296               	/* stack size = 0 */
 297               	.L__stack_usage = 0
 298               	.LM52:
 299 0128 8091 0000 		lds r24,iteration
 300 012c 8E5F      		subi r24,lo8(-(2))
 301 012e 8093 0000 		sts iteration,r24
 302               	.LM53:
 303 0132 8CE3      		ldi r24,lo8(60)
 304 0134 90E0      		ldi r25,hi8(60)
 305 0136 9093 0000 		sts motor_pos+2+1,r25
 306 013a 8093 0000 		sts motor_pos+2,r24
 307               	.LM54:
 308 013e 83E0      		ldi r24,lo8(3)
 309 0140 8093 0000 		sts next_mode,r24
 310               	/* epilogue start */
 311               	.LM55:
 312 0144 0895      		ret
 313               	.LFE11:
 315               	.global	turn45
 317               	turn45:
 318               	.LFB12:
 319               	.LM56:
 320               	/* prologue: function */
 321               	/* frame size = 0 */
 322               	/* stack size = 0 */
 323               	.L__stack_usage = 0
 324               	.LM57:
 325 0146 8091 0000 		lds r24,iteration
 326 014a 8F5F      		subi r24,lo8(-(1))
 327 014c 8093 0000 		sts iteration,r24
 328               	.LM58:
 329 0150 8EE1      		ldi r24,lo8(30)
 330 0152 90E0      		ldi r25,hi8(30)
 331 0154 9093 0000 		sts motor_pos+2+1,r25
 332 0158 8093 0000 		sts motor_pos+2,r24
 333               	.LM59:
 334 015c 83E0      		ldi r24,lo8(3)
 335 015e 8093 0000 		sts next_mode,r24
 336               	/* epilogue start */
 337               	.LM60:
 338 0162 0895      		ret
 339               	.LFE12:
 341               	.global	main
 343               	main:
 344               	.LFB7:
 345               	.LM61:
 346 0164 1F93      		push r17
 347               	/* prologue: function */
 348               	/* frame size = 0 */
 349               	/* stack size = 1 */
 350               	.L__stack_usage = 1
 351               	.LM62:
 352 0166 00D0      		rcall motor_ports_init
 353               	.LM63:
 354 0168 00D0      		rcall Timer0_init
 355               	.LM64:
 356 016a 00D0      		rcall SPI_init
 357               	.LM65:
 358 016c 00D0      		rcall ADC_init
 359               	.LM66:
 360               	/* #APP */
 361               	 ;  172 "atmega_slave.c" 1
 362 016e 7894      		sei
 363               	 ;  0 "" 2
 364               	.LM67:
 365               	/* #NOAPP */
 366 0170 1CED      		ldi r17,lo8(-36)
 367               	.L32:
 368               	.LM68:
 369 0172 8091 0000 		lds r24,current_state
 370 0176 8130      		cpi r24,lo8(1)
 371 0178 01F0      		breq .+2
 372 017a 00C0      		rjmp .L15
 373               	.LM69:
 374 017c 8091 0000 		lds r24,btn_state
 375 0180 8130      		cpi r24,lo8(1)
 376 0182 01F0      		breq .L16
 377               	.LM70:
 378 0184 8091 0000 		lds r24,btn_state+1
 379 0188 8130      		cpi r24,lo8(1)
 380 018a 01F4      		brne .L17
 381               	.L16:
 382               	.LM71:
 383 018c 8091 0000 		lds r24,i
 384 0190 9091 0000 		lds r25,i+1
 385 0194 A091 0000 		lds r26,i+2
 386 0198 B091 0000 		lds r27,i+3
 387 019c 0097      		sbiw r24,0
 388 019e A105      		cpc r26,__zero_reg__
 389 01a0 B105      		cpc r27,__zero_reg__
 390 01a2 01F4      		brne .L18
 391               	.LM72:
 392 01a4 00D0      		rcall reverse
 393               	.LM73:
 394 01a6 8091 0000 		lds r24,btn_state
 395 01aa 8130      		cpi r24,lo8(1)
 396 01ac 01F4      		brne .L19
 397               	.LM74:
 398 01ae 00D0      		rcall turn90
 399 01b0 00C0      		rjmp .L20
 400               	.L19:
 401               	.LM75:
 402 01b2 8091 0000 		lds r24,btn_state+1
 403 01b6 8130      		cpi r24,lo8(1)
 404 01b8 01F4      		brne .L20
 405               	.LM76:
 406 01ba 00D0      		rcall turn45
 407               	.L20:
 408               	.LM77:
 409 01bc 8091 0000 		lds r24,i
 410 01c0 9091 0000 		lds r25,i+1
 411 01c4 A091 0000 		lds r26,i+2
 412 01c8 B091 0000 		lds r27,i+3
 413 01cc 00C0      		rjmp .L21
 414               	.L18:
 415               	.LM78:
 416 01ce 803E      		cpi r24,lo8(300000)
 417 01d0 23E9      		ldi r18,hi8(300000)
 418 01d2 9207      		cpc r25,r18
 419 01d4 24E0      		ldi r18,hlo8(300000)
 420 01d6 A207      		cpc r26,r18
 421 01d8 20E0      		ldi r18,hhi8(300000)
 422 01da B207      		cpc r27,r18
 423 01dc 01F0      		breq .L17
 424               	.L21:
 425               	.LM79:
 426 01de 0196      		adiw r24,1
 427 01e0 A11D      		adc r26,__zero_reg__
 428 01e2 B11D      		adc r27,__zero_reg__
 429 01e4 8093 0000 		sts i,r24
 430 01e8 9093 0000 		sts i+1,r25
 431 01ec A093 0000 		sts i+2,r26
 432 01f0 B093 0000 		sts i+3,r27
 433 01f4 00C0      		rjmp .L15
 434               	.L17:
 435               	.LM80:
 436 01f6 1092 0000 		sts i,__zero_reg__
 437 01fa 1092 0000 		sts i+1,__zero_reg__
 438 01fe 1092 0000 		sts i+2,__zero_reg__
 439 0202 1092 0000 		sts i+3,__zero_reg__
 440               	.L15:
 441               	.LM81:
 442 0206 8091 0000 		lds r24,btn_get_flag
 443 020a 8430      		cpi r24,lo8(4)
 444 020c 01F0      		breq .+2
 445 020e 00C0      		rjmp .L32
 446               	.LM82:
 447 0210 8091 0000 		lds r24,btn_state+5
 448 0214 8130      		cpi r24,lo8(1)
 449 0216 01F4      		brne .L23
 450               	.LM83:
 451 0218 8091 0000 		lds r24,current_state
 452 021c 8823      		tst r24
 453 021e 01F4      		brne .L23
 454               	.LM84:
 455 0220 00D0      		rcall run
 456 0222 00C0      		rjmp .L33
 457               	.L23:
 458               	.LM85:
 459 0224 8091 0000 		lds r24,btn_state+5
 460 0228 8230      		cpi r24,lo8(2)
 461 022a 01F4      		brne .L24
 462               	.LM86:
 463 022c 8091 0000 		lds r24,current_state
 464 0230 8130      		cpi r24,lo8(1)
 465 0232 01F4      		brne .L24
 466               	.LM87:
 467 0234 00D0      		rcall reset
 468               	.L33:
 469               	.LM88:
 470 0236 1092 0000 		sts btn_state+5,__zero_reg__
 471               	.L24:
 472               	.LM89:
 473 023a 8091 0000 		lds r24,current_state
 474 023e 8093 0000 		sts memory_state,r24
 475               	.LM90:
 476 0242 8091 0000 		lds r24,current_mode
 477 0246 8093 0000 		sts memory_state+1,r24
 478               	.LM91:
 479 024a 8091 0000 		lds r24,course
 480 024e 8093 0000 		sts memory_state+2,r24
 481               	.LM92:
 482 0252 8091 0000 		lds r24,iteration
 483 0256 8093 0000 		sts memory_state+3,r24
 484               	.LM93:
 485 025a 8091 0000 		lds r24,total_dist
 486 025e 8093 0000 		sts memory_state+4,r24
 487               	.LM94:
 488 0262 369A      		sbi 38-32,6
 489               	.LM95:
 490 0264 8091 0000 		lds r24,set_speed
 491 0268 8D3D      		cpi r24,lo8(-35)
 492 026a 00F0      		brlo .L25
 493               	.LM96:
 494 026c 1093 0000 		sts motor_speed,r17
 495 0270 00C0      		rjmp .L26
 496               	.L25:
 497               	.LM97:
 498 0272 8091 0000 		lds r24,set_speed
 499               	.LM98:
 500 0276 8091 0000 		lds r24,set_speed
 501 027a 8093 0000 		sts motor_speed,r24
 502               	.L26:
 503               	.LM99:
 504 027e 8091 0000 		lds r24,set_speed
 505 0282 8D3D      		cpi r24,lo8(-35)
 506 0284 00F0      		brlo .L27
 507               	.LM100:
 508 0286 1093 0000 		sts motor_speed+1,r17
 509 028a 00C0      		rjmp .L28
 510               	.L27:
 511               	.LM101:
 512 028c 8091 0000 		lds r24,set_speed
 513               	.LM102:
 514 0290 8091 0000 		lds r24,set_speed
 515 0294 8093 0000 		sts motor_speed+1,r24
 516               	.L28:
 517               	.LM103:
 518 0298 1092 0000 		sts btn_get_flag,__zero_reg__
 519 029c 00C0      		rjmp .L32
 520               	.LFE7:
 522               	.global	motor_make_step
 524               	motor_make_step:
 525               	.LFB13:
 526               	.LM104:
 527               	.LVL0:
 528               	/* prologue: function */
 529               	/* frame size = 0 */
 530               	/* stack size = 0 */
 531               	.L__stack_usage = 0
 532               	.LM105:
 533 029e 6530      		cpi r22,lo8(5)
 534 02a0 00F4      		brsh .L46
 535               	.LM106:
 536 02a2 6623      		tst r22
 537 02a4 01F0      		breq .L47
 538 02a6 00C0      		rjmp .L35
 539               	.L46:
 540               	.LM107:
 541 02a8 61E0      		ldi r22,lo8(1)
 542               	.LVL1:
 543 02aa 00C0      		rjmp .L35
 544               	.LVL2:
 545               	.L47:
 546               	.LM108:
 547 02ac 64E0      		ldi r22,lo8(4)
 548               	.LVL3:
 549               	.L35:
 550               	.LM109:
 551 02ae 8823      		tst r24
 552 02b0 01F4      		brne .L36
 553               	.LM110:
 554 02b2 6330      		cpi r22,lo8(3)
 555 02b4 01F0      		breq .L39
 556 02b6 6430      		cpi r22,lo8(4)
 557 02b8 01F0      		breq .L40
 558 02ba 6230      		cpi r22,lo8(2)
 559 02bc 01F0      		breq .L38
 560               	.LM111:
 561 02be 92B3      		in r25,50-32
 562 02c0 9066      		ori r25,lo8(96)
 563 02c2 92BB      		out 50-32,r25
 564 02c4 92B3      		in r25,50-32
 565 02c6 9F76      		andi r25,lo8(111)
 566 02c8 00C0      		rjmp .L50
 567               	.L38:
 568               	.LM112:
 569 02ca 92B3      		in r25,50-32
 570 02cc 9063      		ori r25,lo8(48)
 571 02ce 92BB      		out 50-32,r25
 572 02d0 92B3      		in r25,50-32
 573 02d2 9F73      		andi r25,lo8(63)
 574               	.L50:
 575 02d4 92BB      		out 50-32,r25
 576               	.LM113:
 577 02d6 00C0      		rjmp .L41
 578               	.L39:
 579               	.LM114:
 580 02d8 92B3      		in r25,50-32
 581 02da 9069      		ori r25,lo8(-112)
 582 02dc 92BB      		out 50-32,r25
 583 02de 92B3      		in r25,50-32
 584 02e0 9F79      		andi r25,lo8(-97)
 585 02e2 00C0      		rjmp .L50
 586               	.L40:
 587               	.LM115:
 588 02e4 92B3      		in r25,50-32
 589 02e6 906C      		ori r25,lo8(-64)
 590 02e8 92BB      		out 50-32,r25
 591 02ea 92B3      		in r25,50-32
 592 02ec 9F7C      		andi r25,lo8(-49)
 593 02ee 00C0      		rjmp .L50
 594               	.L36:
 595               	.LM116:
 596 02f0 8130      		cpi r24,lo8(1)
 597 02f2 01F4      		brne .L41
 598               	.LM117:
 599 02f4 6330      		cpi r22,lo8(3)
 600 02f6 01F0      		breq .L44
 601 02f8 6430      		cpi r22,lo8(4)
 602 02fa 01F0      		breq .L45
 603 02fc 6230      		cpi r22,lo8(2)
 604 02fe 01F0      		breq .L43
 605               	.LM118:
 606 0300 95B3      		in r25,53-32
 607 0302 9861      		ori r25,lo8(24)
 608 0304 95BB      		out 53-32,r25
 609 0306 95B3      		in r25,53-32
 610 0308 9B7D      		andi r25,lo8(-37)
 611 030a 00C0      		rjmp .L49
 612               	.L43:
 613               	.LM119:
 614 030c 95B3      		in r25,53-32
 615 030e 9C60      		ori r25,lo8(12)
 616 0310 95BB      		out 53-32,r25
 617 0312 95B3      		in r25,53-32
 618 0314 9F7C      		andi r25,lo8(-49)
 619 0316 00C0      		rjmp .L49
 620               	.L44:
 621               	.LM120:
 622 0318 95B3      		in r25,53-32
 623 031a 9462      		ori r25,lo8(36)
 624 031c 95BB      		out 53-32,r25
 625 031e 95B3      		in r25,53-32
 626 0320 977E      		andi r25,lo8(-25)
 627 0322 00C0      		rjmp .L49
 628               	.L45:
 629               	.LM121:
 630 0324 95B3      		in r25,53-32
 631 0326 9063      		ori r25,lo8(48)
 632 0328 95BB      		out 53-32,r25
 633 032a 95B3      		in r25,53-32
 634 032c 937F      		andi r25,lo8(-13)
 635               	.L49:
 636 032e 95BB      		out 53-32,r25
 637               	.L41:
 638               	.LM122:
 639 0330 E82F      		mov r30,r24
 640 0332 F0E0      		ldi r31,lo8(0)
 641 0334 E050      		subi r30,lo8(-(motor_current_step))
 642 0336 F040      		sbci r31,hi8(-(motor_current_step))
 643 0338 6083      		st Z,r22
 644               	/* epilogue start */
 645               	.LM123:
 646 033a 0895      		ret
 647               	.LFE13:
 649               	.global	motor_move
 651               	motor_move:
 652               	.LFB14:
 653               	.LM124:
 654               	.LVL4:
 655               	/* prologue: function */
 656               	/* frame size = 0 */
 657               	/* stack size = 0 */
 658               	.L__stack_usage = 0
 659 033c 282F      		mov r18,r24
 660 033e 30E0      		ldi r19,lo8(0)
 661               	.LM125:
 662 0340 6130      		cpi r22,lo8(1)
 663 0342 01F4      		brne .L52
 664               	.LVL5:
 665               	.LM126:
 666 0344 2050      		subi r18,lo8(-(motor_current_step))
 667 0346 3040      		sbci r19,hi8(-(motor_current_step))
 668               	.LVL6:
 669 0348 F901      		movw r30,r18
 670 034a 6081      		ld r22,Z
 671               	.LVL7:
 672 034c 6F5F      		subi r22,lo8(-(1))
 673 034e 00C0      		rjmp .L53
 674               	.LVL8:
 675               	.L52:
 676               	.LM127:
 677 0350 2050      		subi r18,lo8(-(motor_current_step))
 678 0352 3040      		sbci r19,hi8(-(motor_current_step))
 679 0354 F901      		movw r30,r18
 680 0356 6081      		ld r22,Z
 681               	.LVL9:
 682 0358 6150      		subi r22,lo8(-(-1))
 683               	.L53:
 684               	.LVL10:
 685               	.LM128:
 686 035a 00D0      		rcall motor_make_step
 687               	.LVL11:
 688               	/* epilogue start */
 689               	.LM129:
 690 035c 0895      		ret
 691               	.LFE14:
 693               	.global	__vector_9
 695               	__vector_9:
 696               	.LFB5:
 697               	.LM130:
 698 035e 1F92      		push __zero_reg__
 699 0360 0F92      		push r0
 700 0362 0FB6      		in r0,__SREG__
 701 0364 0F92      		push r0
 702 0366 1124      		clr __zero_reg__
 703 0368 2F93      		push r18
 704 036a 3F93      		push r19
 705 036c 4F93      		push r20
 706 036e 5F93      		push r21
 707 0370 6F93      		push r22
 708 0372 7F93      		push r23
 709 0374 8F93      		push r24
 710 0376 9F93      		push r25
 711 0378 AF93      		push r26
 712 037a BF93      		push r27
 713 037c EF93      		push r30
 714 037e FF93      		push r31
 715               	/* prologue: Signal */
 716               	/* frame size = 0 */
 717               	/* stack size = 15 */
 718               	.L__stack_usage = 15
 719               	.LM131:
 720 0380 2091 0000 		lds r18,stepper_flag
 721 0384 4091 0000 		lds r20,motor_speed
 722 0388 30E0      		ldi r19,lo8(0)
 723 038a 8FEF      		ldi r24,lo8(255)
 724 038c 90E0      		ldi r25,hi8(255)
 725 038e 841B      		sub r24,r20
 726 0390 9109      		sbc r25,__zero_reg__
 727 0392 8217      		cp r24,r18
 728 0394 9307      		cpc r25,r19
 729 0396 04F4      		brge .L55
 730               	.LM132:
 731 0398 1092 0000 		sts stepper_flag,__zero_reg__
 732 039c 00C0      		rjmp .L56
 733               	.L55:
 734               	.LM133:
 735 039e 8091 0000 		lds r24,stepper_flag
 736 03a2 8F5F      		subi r24,lo8(-(1))
 737 03a4 8093 0000 		sts stepper_flag,r24
 738               	.L56:
 739               	.LM134:
 740 03a8 8091 0000 		lds r24,stepper_flag
 741 03ac 8823      		tst r24
 742 03ae 01F0      		breq .+2
 743 03b0 00C0      		rjmp .L57
 744               	.LM135:
 745 03b2 8091 0000 		lds r24,current_mode
 746 03b6 8130      		cpi r24,lo8(1)
 747 03b8 01F4      		brne .L58
 748               	.LM136:
 749 03ba 80E0      		ldi r24,lo8(0)
 750 03bc 61E0      		ldi r22,lo8(1)
 751 03be 00D0      		rcall motor_move
 752               	.LM137:
 753 03c0 81E0      		ldi r24,lo8(1)
 754 03c2 61E0      		ldi r22,lo8(1)
 755 03c4 00D0      		rcall motor_move
 756 03c6 00C0      		rjmp .L57
 757               	.L58:
 758               	.LM138:
 759 03c8 8230      		cpi r24,lo8(2)
 760 03ca 01F4      		brne .L59
 761               	.LM139:
 762 03cc 8091 0000 		lds r24,k
 763 03d0 8823      		tst r24
 764 03d2 01F0      		breq .+2
 765 03d4 00C0      		rjmp .L62
 766               	.LM140:
 767 03d6 8091 0000 		lds r24,motor_pos
 768 03da 9091 0000 		lds r25,motor_pos+1
 769 03de 0097      		sbiw r24,0
 770 03e0 01F0      		breq .L61
 771               	.LM141:
 772 03e2 80E0      		ldi r24,lo8(0)
 773 03e4 60E0      		ldi r22,lo8(0)
 774 03e6 00D0      		rcall motor_move
 775               	.LM142:
 776 03e8 81E0      		ldi r24,lo8(1)
 777 03ea 60E0      		ldi r22,lo8(0)
 778 03ec 00D0      		rcall motor_move
 779               	.LM143:
 780 03ee 8091 0000 		lds r24,motor_pos
 781 03f2 9091 0000 		lds r25,motor_pos+1
 782 03f6 0197      		sbiw r24,1
 783 03f8 9093 0000 		sts motor_pos+1,r25
 784 03fc 8093 0000 		sts motor_pos,r24
 785               	.L61:
 786               	.LM144:
 787 0400 8091 0000 		lds r24,motor_pos
 788 0404 9091 0000 		lds r25,motor_pos+1
 789 0408 0097      		sbiw r24,0
 790 040a 01F4      		brne .L57
 791               	.LM145:
 792 040c 8FE0      		ldi r24,lo8(15)
 793 040e 8093 0000 		sts k,r24
 794               	.LM146:
 795 0412 8091 0000 		lds r24,next_mode
 796 0416 00C0      		rjmp .L64
 797               	.L59:
 798               	.LM147:
 799 0418 8330      		cpi r24,lo8(3)
 800 041a 01F4      		brne .L57
 801               	.LM148:
 802 041c 8091 0000 		lds r24,k
 803 0420 8823      		tst r24
 804 0422 01F4      		brne .L62
 805               	.LM149:
 806 0424 8091 0000 		lds r24,motor_pos+2
 807 0428 9091 0000 		lds r25,motor_pos+2+1
 808 042c 0097      		sbiw r24,0
 809 042e 01F0      		breq .L63
 810               	.LM150:
 811 0430 81E0      		ldi r24,lo8(1)
 812 0432 61E0      		ldi r22,lo8(1)
 813 0434 00D0      		rcall motor_move
 814               	.LM151:
 815 0436 8091 0000 		lds r24,motor_pos+2
 816 043a 9091 0000 		lds r25,motor_pos+2+1
 817 043e 0197      		sbiw r24,1
 818 0440 9093 0000 		sts motor_pos+2+1,r25
 819 0444 8093 0000 		sts motor_pos+2,r24
 820               	.L63:
 821               	.LM152:
 822 0448 8091 0000 		lds r24,motor_pos+2
 823 044c 9091 0000 		lds r25,motor_pos+2+1
 824 0450 0097      		sbiw r24,0
 825 0452 01F4      		brne .L57
 826               	.LM153:
 827 0454 8EE1      		ldi r24,lo8(30)
 828 0456 8093 0000 		sts k,r24
 829               	.LM154:
 830 045a 81E0      		ldi r24,lo8(1)
 831               	.L64:
 832 045c 8093 0000 		sts current_mode,r24
 833 0460 00C0      		rjmp .L57
 834               	.L62:
 835               	.LM155:
 836 0462 8091 0000 		lds r24,k
 837 0466 8150      		subi r24,lo8(-(-1))
 838 0468 8093 0000 		sts k,r24
 839               	.L57:
 840               	.LM156:
 841 046c 8091 0000 		lds r24,btn_get_flag
 842 0470 8F5F      		subi r24,lo8(-(1))
 843 0472 8093 0000 		sts btn_get_flag,r24
 844               	/* epilogue start */
 845               	.LM157:
 846 0476 FF91      		pop r31
 847 0478 EF91      		pop r30
 848 047a BF91      		pop r27
 849 047c AF91      		pop r26
 850 047e 9F91      		pop r25
 851 0480 8F91      		pop r24
 852 0482 7F91      		pop r23
 853 0484 6F91      		pop r22
 854 0486 5F91      		pop r21
 855 0488 4F91      		pop r20
 856 048a 3F91      		pop r19
 857 048c 2F91      		pop r18
 858 048e 0F90      		pop r0
 859 0490 0FBE      		out __SREG__,r0
 860 0492 0F90      		pop r0
 861 0494 1F90      		pop __zero_reg__
 862 0496 1895      		reti
 863               	.LFE5:
 865               	.global	motor_current_step
 866               		.data
 869               	motor_current_step:
 870 0000 01        		.byte	1
 871 0001 01        		.byte	1
 872               	.global	motor_pos
 873               	.global	motor_pos
 874               		.section .bss
 877               	motor_pos:
 878 0000 0000 0000 		.skip 4,0
 879               	.global	set_speed
 880               	.global	set_speed
 883               	set_speed:
 884 0004 00        		.skip 1,0
 885               	.global	motor_speed
 886               	.global	motor_speed
 889               	motor_speed:
 890 0005 0000      		.skip 2,0
 891               	.global	memory_state
 892               	.global	memory_state
 895               	memory_state:
 896 0007 0000 0000 		.skip 6,0
 896      0000 
 897               	.global	btn_state
 898               	.global	btn_state
 901               	btn_state:
 902 000d 0000 0000 		.skip 6,0
 902      0000 
 903               	.global	iteration
 904               	.global	iteration
 907               	iteration:
 908 0013 00        		.skip 1,0
 909               	.global	course
 910               		.data
 913               	course:
 914 0002 01        		.byte	1
 915               	.global	next_mode
 916               	.global	next_mode
 917               		.section .bss
 920               	next_mode:
 921 0014 00        		.skip 1,0
 922               	.global	max_dimension
 923               	.global	max_dimension
 926               	max_dimension:
 927 0015 00        		.skip 1,0
 928               	.global	total_dist
 929               	.global	total_dist
 932               	total_dist:
 933 0016 00        		.skip 1,0
 934               	.global	i
 935               	.global	i
 938               	i:
 939 0017 0000 0000 		.skip 4,0
 940               	.global	j
 941               	.global	j
 944               	j:
 945 001b 00        		.skip 1,0
 946               	.global	k
 947               		.data
 950               	k:
 951 0003 1E        		.byte	30
 952               	.global	btn_get_flag
 953               	.global	btn_get_flag
 954               		.section .bss
 957               	btn_get_flag:
 958 001c 00        		.skip 1,0
 959               	.global	stepper_flag
 960               	.global	stepper_flag
 963               	stepper_flag:
 964 001d 00        		.skip 1,0
 965               	.global	current_state
 966               	.global	current_state
 969               	current_state:
 970 001e 00        		.skip 1,0
 971               	.global	current_mode
 972               	.global	current_mode
 975               	current_mode:
 976 001f 00        		.skip 1,0
 1113               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 atmega_slave.c
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:2      *ABS*:0000003f __SREG__
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:3      *ABS*:0000003e __SP_H__
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:4      *ABS*:0000003d __SP_L__
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:5      *ABS*:00000034 __CCP__
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:6      *ABS*:00000000 __tmp_reg__
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:7      *ABS*:00000001 __zero_reg__
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:18     .text:00000000 motor_ports_init
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:54     .text:00000026 ADC_init
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:82     .text:0000003a SPI_init
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:102    .text:00000044 Timer0_init
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:124    .text:00000052 __vector_10
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:944    .bss:0000001b j
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:901    .bss:0000000d btn_state
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:895    .bss:00000007 memory_state
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:180    .text:000000a6 __vector_14
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:883    .bss:00000004 set_speed
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:210    .text:000000cc reset
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:877    .bss:00000000 motor_pos
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:907    .bss:00000013 iteration
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:913    .data:00000002 course
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:926    .bss:00000015 max_dimension
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:932    .bss:00000016 total_dist
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:969    .bss:0000001e current_state
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:975    .bss:0000001f current_mode
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:243    .text:000000f8 run
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:262    .text:00000104 reverse
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:291    .text:00000128 turn90
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:920    .bss:00000014 next_mode
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:317    .text:00000146 turn45
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:343    .text:00000164 main
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:938    .bss:00000017 i
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:957    .bss:0000001c btn_get_flag
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:889    .bss:00000005 motor_speed
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:524    .text:0000029e motor_make_step
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:869    .data:00000000 motor_current_step
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:651    .text:0000033c motor_move
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:695    .text:0000035e __vector_9
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:963    .bss:0000001d stepper_flag
C:\Users\cadavre\AppData\Local\Temp\ccgfIU6E.s:950    .data:00000003 k

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
